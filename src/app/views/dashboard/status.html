<div ng-controller="StatusController">
  <h1 class="page-header">系统状态</h1>
  <div>
    <div></div>
    <script type="text/javascript">
      function GetNowDateTime(nowTime) {
        var NowDateTime = nowTime.getFullYear() + "年" +
          (nowTime.getMonth() + 1 ) + "月" +
          nowTime.getDate() + "日" +
          " " +
          nowTime.getHours() + ":" +
          nowTime.getMinutes() + ":" +
          nowTime.getSeconds();
        return NowDateTime;
      }
      var scriptTag = document.getElementsByTagName('script');
      scriptTag = scriptTag[scriptTag.length - 1];
      scriptTag.previousElementSibling.innerHTML = "系统运行正常。<br/>上次检查时间：" + GetNowDateTime(new Date());
    </script>
  </div>

  <h2 ng-hide="uploadingList.length == 0" class="sub-header">上传进度</h2>
  <h2 ng-hide="uploadingList.length > 0" class="sub-header">暂无上传</h2>
  <div class="table-responsive">
    <table ng-hide="uploadingList.length == 0" class="table table-striped">
      <thead>
      <tr>
        <th>#</th>
        <th>患者姓名</th>
        <th>进度</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="item in  uploadingList">
        <td>{{item.StudyInstanceUID}}</td>
        <td>{{item.PatientName}}</td>
        <td>
          <div class="progress" style="margin-bottom: 0px;">
            <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                 aria-valuemax="100" style="width: {{(item.success/item.total)*100}}%"></div>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
